name = "bugdrop"
main = "src/index.ts"
compatibility_date = "2024-01-29"

# Static assets directory (for widget.js)
[assets]
directory = "public"
binding = "ASSETS"

# Environment variables
[vars]
ENVIRONMENT = "development"
ALLOWED_ORIGINS = "*"  # "*" for dev, comma-separated URLs for production
GITHUB_APP_NAME = "neonwatty-bugdrop"  # Your GitHub App's URL slug
MAX_SCREENSHOT_SIZE_MB = "5"  # Maximum screenshot size in MB

# Production configuration example (uncomment and customize for deployment)
# [env.production.vars]
# ENVIRONMENT = "production"
# ALLOWED_ORIGINS = "https://yourdomain.com,https://app.yourdomain.com"

# Rate limiting KV namespace
[[kv_namespaces]]
binding = "RATE_LIMIT"
id = "e6454ed79f514ed3a9e24eea99dd6cd3"
preview_id = "ff8f3809037d4403befd09369a9f7e36"

# Secrets (set with: wrangler secret put GITHUB_APP_ID)
# GITHUB_APP_ID
# GITHUB_PRIVATE_KEY
